<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIGHT ME</title>
    <!-- Delete this to test in local machine -->
        <base href="/FIGHT_ME/">
    <!--  -->
    <link rel="stylesheet" href="resources/css/game.css">
    <script>
        console.warn("Delete the base tag in the game.html file if you want to run the code in your local machine")
    </script>
</head>
<body>
    <p>Loading</p>
    <canvas id="canvas" class="invisible"> </canvas>
    <div id="messages">
        <div id="get_ready" class="invisible">GET READY</div>
        <div id="fight" class="invisible">FIGHT !!!!</div>
        <div id="result_menu" class="invisible">
            <div id="result"></div>
            <a href="index.html">BACK TO MENU</a>
        </div>
        <script>
            let audios = {
                fight_music: new Audio("./resources/audios/musics/alexander-nakarada-chase.mp3"),
                weak_dmg: new Audio("./resources/audios/effects/weak_damage.wav"),
                strong_dmg: new Audio("./resources/audios/effects/strong_damage.wav")
            }
            audios.fight_music.play()
        </script>
    </div>
    <script>
        function canvas_resize() {
            let canvas = document.getElementById('canvas')
            window.image_definition_x = 1920
            window.image_definition_y = 1080
            canvas.width = window.image_definition_x
            canvas.height = window.image_definition_y
        }
        canvas_resize()
        window.onresize = canvas_resize; 
    </script>
</body>
<!----game logic---->
<script type="module">
    //events
    import { key_events, Player, Enemy, Fight } from './modules.js'
    key_events()
    //creating chars
    let player = new Player()
    let enemy = new Enemy(player)
    ///game logic
    window.onload = () => {
        let fight = new Fight(player, enemy)
        ///play fade animation
        document.getElementsByTagName('canvas')[0].classList.remove('invisible')
    }
</script>
</html>
